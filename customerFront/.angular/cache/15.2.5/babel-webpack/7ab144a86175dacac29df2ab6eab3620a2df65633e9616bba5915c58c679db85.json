{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/customer.service\";\nimport * as i2 from \"ngx-toastr\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nfunction ListCustomerComponent_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"button\", 3);\n    i0.ɵɵelement(11, \"i\", 4);\n    i0.ɵɵtext(12, \" Ver\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"td\")(14, \"button\", 5);\n    i0.ɵɵelement(15, \"i\", 6);\n    i0.ɵɵtext(16, \" Editar\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"td\")(18, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ListCustomerComponent_tr_18_Template_button_click_18_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const customer_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.delete(customer_r1.customerId));\n    });\n    i0.ɵɵelement(19, \"i\", 8);\n    i0.ɵɵtext(20, \" Eliminar\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const customer_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r1.customerId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r1.companyName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", customer_r1.contactName, \"\\u20AC\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", customer_r1.phone, \"\\u20AC\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/detail/\", customer_r1.customerId, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/edit/\", customer_r1.customerId, \"\");\n  }\n}\nexport class ListCustomerComponent {\n  constructor(customerService, toastr) {\n    this.customerService = customerService;\n    this.toastr = toastr;\n    this.customers = [];\n  }\n  ngOnInit() {\n    this.loadCustomers();\n  }\n  loadCustomers() {\n    this.customerService.list().subscribe(data => {\n      this.customers = data;\n    }, err => {\n      console.log(err);\n    });\n  }\n  delete(customerId) {\n    this.customerService.delete(customerId).subscribe(data => {\n      this.toastr.success('Cliente Eliminado con éxito', 'OK', {\n        timeOut: 3000,\n        positionClass: 'toast-top-center'\n      });\n      this.loadCustomers();\n    }, err => {\n      this.toastr.error(err.error.meensaje, 'Fail', {\n        timeOut: 3000,\n        positionClass: 'toast-top-center'\n      });\n    });\n  }\n}\nListCustomerComponent.ɵfac = function ListCustomerComponent_Factory(t) {\n  return new (t || ListCustomerComponent)(i0.ɵɵdirectiveInject(i1.CustomerService), i0.ɵɵdirectiveInject(i2.ToastrService));\n};\nListCustomerComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListCustomerComponent,\n  selectors: [[\"app-list-customer\"]],\n  decls: 19,\n  vars: 1,\n  consts: [[1, \"table\", \"table-dark\", \"table-striped\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-outline-primary\", 3, \"routerLink\"], [1, \"fa-sharp\", \"fa-solid\", \"fa-eye\"], [1, \"btn\", \"btn-outline-warning\", 3, \"routerLink\"], [1, \"fa-solid\", \"fa-user-pen\"], [1, \"btn\", \"btn-outline-danger\", 3, \"click\"], [1, \"far\", \"fa-trash-alt\"]],\n  template: function ListCustomerComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"table\", 0)(1, \"thead\")(2, \"tr\")(3, \"th\", 1);\n      i0.ɵɵtext(4, \"Id\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"th\", 1);\n      i0.ɵɵtext(6, \"Nombre de la Empresa\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"th\", 1);\n      i0.ɵɵtext(8, \"Nombre de Contacto\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"th\", 1);\n      i0.ɵɵtext(10, \"Tel\\u00E9fono\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\", 1);\n      i0.ɵɵtext(12, \"Ver\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\", 1);\n      i0.ɵɵtext(14, \"Editar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\", 1);\n      i0.ɵɵtext(16, \"Eliminar\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(17, \"tbody\");\n      i0.ɵɵtemplate(18, ListCustomerComponent_tr_18_Template, 21, 6, \"tr\", 2);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"ngForOf\", ctx.customers);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.RouterLink],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IAaQA,0BAAuC;IACjCA,YAAuB;IAAAA,iBAAK;IAChCA,0BAAI;IAAAA,YAAwB;IAAAA,iBAAK;IACjCA,0BAAI;IAAAA,YAAyB;IAAAA,iBAAK;IAClCA,0BAAI;IAAAA,YAAmB;IAAAA,iBAAK;IAC5BA,0BAAI;IAAqFA,wBAAwC;IAACA,qBAAG;IAAAA,iBAAS;IAC9IA,2BAAI;IAAmFA,wBAAoC;IAACA,wBAAM;IAAAA,iBAAS;IAC3IA,2BAAI;IAAuCA;MAAA;MAAA;MAAA;MAAA,OAASA,oDAA2B;IAAA,EAAC;IAACA,wBAAgC;IAACA,0BAAQ;IAAAA,iBAAS;;;;IAN/HA,eAAuB;IAAvBA,4CAAuB;IACvBA,eAAwB;IAAxBA,6CAAwB;IACxBA,eAAyB;IAAzBA,4DAAyB;IACzBA,eAAmB;IAAnBA,sDAAmB;IACqBA,eAA4C;IAA5CA,+EAA4C;IAC5CA,eAA0C;IAA1CA,6EAA0C;;;ACRhG,OAAM,MAAOC,qBAAqB;EAIhCC,YACUC,eAAgC,EAChCC,MAAqB;IADrB,oBAAe,GAAfD,eAAe;IACf,WAAM,GAANC,MAAM;IAJhB,cAAS,GAAe,EAAE;EAKrB;EAELC,QAAQ;IACN,IAAI,CAACC,aAAa,EAAE;EACtB;EAEAA,aAAa;IACX,IAAI,CAACH,eAAe,CAACI,IAAI,EAAE,CAACC,SAAS,CACnCC,IAAI,IAAG;MACL,IAAI,CAACC,SAAS,GAAGD,IAAI;IACvB,CAAC,EACDE,GAAG,IAAG;MACJC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAClB,CAAC,CACF;EACH;EAEAG,MAAM,CAACC,UAAmB;IACxB,IAAI,CAACZ,eAAe,CAACW,MAAM,CAACC,UAAW,CAAC,CAACP,SAAS,CAChDC,IAAI,IAAG;MACL,IAAI,CAACL,MAAM,CAACY,OAAO,CAAC,6BAA6B,EAAE,IAAI,EAAE;QACvDC,OAAO,EAAE,IAAI;QAAEC,aAAa,EAAE;OAC/B,CAAC;MACF,IAAI,CAACZ,aAAa,EAAE;IACtB,CAAC,EACDK,GAAG,IAAG;MACJ,IAAI,CAACP,MAAM,CAACe,KAAK,CAACR,GAAG,CAACQ,KAAK,CAACC,QAAQ,EAAG,MAAM,EAAE;QAC7CH,OAAO,EAAE,IAAI;QAAEC,aAAa,EAAE;OAC/B,CAAC;IACJ,CAAC,CACF;EACH;;AAtCWjB,qBAAqB;mBAArBA,qBAAqB;AAAA;AAArBA,qBAAqB;QAArBA,qBAAqB;EAAAoB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDXlCzB,gCAA8C;MAGpBA,kBAAE;MAAAA,iBAAK;MACvBA,6BAAgB;MAAAA,oCAAoB;MAAAA,iBAAK;MACzCA,6BAAgB;MAAAA,kCAAkB;MAAAA,iBAAK;MACvCA,6BAAgB;MAAAA,8BAAQ;MAAAA,iBAAK;MAC7BA,8BAAgB;MAAAA,oBAAG;MAAAA,iBAAK;MACxBA,8BAAgB;MAAAA,uBAAM;MAAAA,iBAAK;MAC3BA,8BAAgB;MAAAA,yBAAQ;MAAAA,iBAAK;MAGjCA,8BAAO;MACLA,uEAQK;MACPA,iBAAQ;;;MATmBA,gBAAY;MAAZA,uCAAY","names":["i0","ListCustomerComponent","constructor","customerService","toastr","ngOnInit","loadCustomers","list","subscribe","data","customers","err","console","log","delete","customerId","success","timeOut","positionClass","error","meensaje","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\customerFront\\src\\app\\customer\\list-customer\\list-customer.component.html","C:\\customerFront\\src\\app\\customer\\list-customer\\list-customer.component.ts"],"sourcesContent":["<table class=\"table table-dark table-striped\">\n    <thead>\n        <tr>\n          <th scope=\"col\">Id</th>\n          <th scope=\"col\">Nombre de la Empresa</th>\n          <th scope=\"col\">Nombre de Contacto</th>\n          <th scope=\"col\">Teléfono</th>\n          <th scope=\"col\">Ver</th>\n          <th scope=\"col\">Editar</th>\n          <th scope=\"col\">Eliminar</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr *ngFor=\"let customer of customers\">\n          <td>{{customer.customerId}}</td>\n          <td>{{customer.companyName}}</td>\n          <td>{{customer.contactName}}€</td>\n          <td>{{customer.phone}}€</td>         \n          <td><button class=\"btn btn-outline-primary\" routerLink=\"/detail/{{customer.customerId}}\"><i class=\"fa-sharp fa-solid fa-eye\"></i> Ver</button></td>\n          <td><button class=\"btn btn-outline-warning\" routerLink=\"/edit/{{customer.customerId}}\"><i class=\"fa-solid fa-user-pen\"></i> Editar</button></td>\n          <td><button class=\"btn btn-outline-danger\" (click)=\"delete(customer.customerId)\"><i class=\"far fa-trash-alt\"></i> Eliminar</button></td>\n        </tr>\n      </tbody>\n  </table>\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Customer } from 'src/app/models/customer';\nimport { CustomerService } from 'src/app/service/customer.service';\nimport { ToastrService } from 'ngx-toastr';\nimport { MatPaginator } from '@angular/material/paginator';\n\n@Component({\n  selector: 'app-list-customer',\n  templateUrl: './list-customer.component.html',\n  styleUrls: ['./list-customer.component.css']\n})\nexport class ListCustomerComponent implements OnInit {\n\n  customers: Customer[] = [];\n\n  constructor(\n    private customerService: CustomerService,\n    private toastr: ToastrService\n    ){ }\n\n  ngOnInit(){\n    this.loadCustomers();\n  }\n\n  loadCustomers(): void{\n    this.customerService.list().subscribe(\n      data => {\n        this.customers = data;\n      },\n      err => {\n        console.log(err);\n      }\n    );\n  }\n\n  delete(customerId?: number){\n    this.customerService.delete(customerId!).subscribe(\n      data => {\n        this.toastr.success('Cliente Eliminado con éxito', 'OK', {\n          timeOut: 3000, positionClass: 'toast-top-center'\n        });\n        this.loadCustomers();\n      },\n      err => {\n        this.toastr.error(err.error.meensaje , 'Fail', {\n          timeOut: 3000, positionClass: 'toast-top-center'\n        });\n      }\n    );\n  }\n  \n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}